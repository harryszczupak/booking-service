<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/2fa.css">

    <%- include('../includes/navigation.ejs') %>
        <div class="qr-container">
            <div class="twofa-container">
                <h2 class="twofa-title">Włączono logowanie dwuskładnikowe</h2>
                <p class="twofa-instruction">Zeskanuj kod QR w Google Authenticator i wpisz wygenerowany kod:</p>

                <div class="twofa-qr-wrapper">
                    <img src="<%= qrCode %>" alt="Kod QR 2FA" class="twofa-qr-img" />
                </div>

                <form action="/verify-2fa-setup" method="POST" class="twofa-form">
                    <input type="text" name="code" placeholder="Kod 2FA" required class="twofa-input" />
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
                    <button type="submit" class="twofa-button">Potwierdź kod</button>
                </form>

                <% if (errorMessage) { %>
                    <p class="twofa-error">
                        <%= errorMessage %>
                    </p>
                    <% } %>
            </div>
        </div>
        <%- include('../includes/end.ejs') %>